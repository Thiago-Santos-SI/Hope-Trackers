{"code":"!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=2)}([function(e){e.exports=react-native},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,r,o=n(3),s=n(4),a=n(5),u=n(6),c=o.default.get(),d=c.nativeInterface,f=c.eventEmitter;t._configureHelpers=function(e,t){d=e,f=t,i=new s.default(d,f),r=new a.default(d,f),f.addListener(\"onWarning\",function(e){console.warn(\"react-native-location warning:\",e)})},t._configureHelpers(d,f),t.configure=function(e){return d.configure(e)},t.requestPermission=function(e){return r.requestPermission(e)},t.getCurrentPermission=function(){return r.getCurrentPermission()},t.checkPermission=function(e){return r.checkPermission(e)},t.subscribeToPermissionUpdates=function(e){return r.subscribeToPermissionUpdates(e)},t.subscribeToLocationUpdates=function(e){return i.subscribeToLocationUpdates(e)},t.getLatestLocation=function(e){void 0===e&&(e={});var t=new Promise(function(e){var t=i.subscribeToLocationUpdates(function(n){if(0!==n.length){var i=n.sort(function(e,t){return t.timestamp-e.timestamp});t&&t(),e(i[0])}})});if(null===e.timeout)return t;var n=e.timeout||1e4;return u.promiseTimeoutResolveNull(n,t)},t.subscribeToHeadingUpdates=function(e){return i.subscribeToHeadingUpdates(e)},t.subscribeToSignificantLocationUpdates=function(e){return i.subscribeToSignificantLocationUpdates(e)},t.default={configure:t.configure,requestPermission:t.requestPermission,checkPermission:t.checkPermission,getCurrentPermission:t.getCurrentPermission,subscribeToPermissionUpdates:t.subscribeToPermissionUpdates,subscribeToLocationUpdates:t.subscribeToLocationUpdates,getLatestLocation:t.getLatestLocation,subscribeToHeadingUpdates:t.subscribeToHeadingUpdates,subscribeToSignificantLocationUpdates:t.subscribeToSignificantLocationUpdates,_configureHelpers:t._configureHelpers,_nativeInterface:d,_eventEmitter:f}},function(e,t,n){\"use strict\";n.r(t);var i=n(1);n.n(i);console.log({Subscription:i.Subscription})},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0);t.get=function(){var e=i.NativeModules.RNLocation;return e||console.warn(\"Could not find the RNLocation native module. Have you correctly linked react-native-location and rebuilt your app?\"),{nativeInterface:e,eventEmitter:new i.NativeEventEmitter(e)}},t.default={get:t.get}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e,t){this.locationListenerCount=0,this.headingListenerCount=0,this.significantLocationListenerCount=0,this.nativeInterface=e,this.eventEmitter=t}return e.prototype.subscribeToLocationUpdates=function(e){var t=this,n=this.eventEmitter.addListener(\"locationUpdated\",e);return this.nativeInterface.startUpdatingLocation(),this.locationListenerCount+=1,function(){n.remove(),t.locationListenerCount-=1,0===t.locationListenerCount&&t.nativeInterface.stopUpdatingLocation()}},e.prototype.subscribeToHeadingUpdates=function(e){var t=this,n=this.eventEmitter.addListener(\"headingUpdated\",e);return this.nativeInterface.startUpdatingHeading(),this.headingListenerCount+=1,function(){n.remove(),t.headingListenerCount-=1,0===t.headingListenerCount&&t.nativeInterface.stopUpdatingHeading()}},e.prototype.subscribeToSignificantLocationUpdates=function(e){var t=this,n=this.eventEmitter.addListener(\"locationUpdated\",e);return this.nativeInterface.startMonitoringSignificantLocationChanges(),this.significantLocationListenerCount+=1,function(){n.remove(),t.significantLocationListenerCount-=1,0===t.significantLocationListenerCount&&t.nativeInterface.stopMonitoringSignificantLocationChanges()}},e}();t.default=n},function(e,t,n){\"use strict\";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(r=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),s=function(){function e(e,t){this.nativeInterface=e,this.eventEmitter=t}return e.prototype.requestPermission=function(e){return i(this,void 0,void 0,function(){var t,n;return r(this,function(i){switch(i.label){case 0:return\"ios\"===(t=o.Platform.OS)?[3,1]:\"android\"===t?[3,6]:[3,8];case 1:return\"always\"===e.ios?[4,this.nativeInterface.requestAlwaysAuthorization()]:[3,3];case 2:return[2,i.sent()];case 3:return\"whenInUse\"===e.ios?[4,this.nativeInterface.requestWhenInUseAuthorization()]:[3,5];case 4:return[2,i.sent()];case 5:return[2,!1];case 6:return e.android?(n=\"fine\"===e.android.detail?o.PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION:o.PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,[4,o.PermissionsAndroid.request(n,e.android.rationale||void 0)]):[2,!1];case 7:return[2,i.sent()===o.PermissionsAndroid.RESULTS.GRANTED];case 8:return[2,!1]}})})},e.prototype.getCurrentPermission=function(){return i(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return\"ios\"===(e=o.Platform.OS)?[3,1]:\"android\"===e?[3,3]:[3,5];case 1:return[4,this.nativeInterface.getAuthorizationStatus()];case 2:return[2,n.sent()];case 3:return[4,Promise.all([o.PermissionsAndroid.check(o.PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION),o.PermissionsAndroid.check(o.PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION)])];case 4:return(t=n.sent())[0]?[2,\"authorizedFine\"]:t[1]?[2,\"authorizedCoarse\"]:[2,\"notDetermined\"];case 5:return[2,\"restricted\"]}})})},e.prototype.checkPermission=function(e){return i(this,void 0,void 0,function(){var t,n;return r(this,function(i){switch(i.label){case 0:return\"ios\"===(t=o.Platform.OS)?[3,1]:\"android\"===t?[3,3]:[3,5];case 1:return e.ios?[4,this.nativeInterface.getAuthorizationStatus()]:[2,!1];case 2:return n=i.sent(),\"always\"===e.ios?[2,\"authorizedAlways\"===n]:\"whenInUse\"===e.ios?[2,\"authorizedAlways\"===n||\"authorizedWhenInUse\"===n]:[2,!1];case 3:return e.android?[4,this.getCurrentPermission()]:[2,!1];case 4:return n=i.sent(),\"fine\"===e.android.detail?[2,\"authorizedFine\"===n]:\"coarse\"===e.android.detail?[2,\"authorizedFine\"===n||\"authorizedCoarse\"===n]:[2,!1];case 5:return[2,!1]}})})},e.prototype.subscribeToPermissionUpdates=function(e){var t=this.eventEmitter.addListener(\"authorizationStatusDidChange\",e);return function(){t.remove()}},e}();t.default=s},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.promiseTimeoutResolveNull=function(e,t){var n=new Promise(function(t){var n=setTimeout(function(){clearTimeout(n),t(null)},e)});return Promise.race([t,n])}}]);","extractedComments":[]}